@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}

@section Header {
    <header>
		<h2>My Wallet</h2>
	</header>
	<p>Check your balance and tokens in Polygon Network</p>
	<ul class="actions">
		<li><a href="@Url.Action("Index","Wallet")" class="button">See my balance</a></li>
        <li><a href="@Url.Action("CreateTransaction","Wallet")" class="button">Create transaction</a></li>
        <li><a href="@Url.Action("Pools","Wallet")" class="button">Check pools</a></li>
        <li><a onclick="openSequenceWallet()" class="button">Open Sequence Wallet</a></li>
	</ul>
}


<div class="wrapper">
	<div class="container" id="main">
		<div class="row gtr-150">
			<div class="col-8 col-12-narrower">

				<!-- Content -->
					<article id="content">
						<header>
							<h2>My tokens</h2>
							<p>Check all the tokens you have in your wallet. <br />
						</header>
						
						<p class="tokenList">

						</p>
					</article>

			</div>
			<div class="col-4 col-12-narrower">

				<!-- Sidebar -->
					<section id="sidebar">
						<section>
							<header>
								<h3>MATIC Balance</h3>
							</header>
							<p><span id="klayBalanceAccount"></span> <b>MATIC</b></p>
						</section>
										
					</section>

			</div>
		</div>
						
	</div>
</div>

@section Scripts
{
    <script type="text/javascript">
		async function enableWallet() {
			const wallet = sequence.initWallet('polygon')
			const connectDetails = await (await wallet).connect()
			if(!connectDetails.connected) {
				location.href = "/Home/Login";
			}
			getBalances();
			//var publicKey = connectDetails.session.accountAddress;
			//$('#publicKey').text(publicKey);
		}
		enableWallet();


    </script>
}